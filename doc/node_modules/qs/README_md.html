<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-qs+-3Crdoc-image-3Ahttp-3A-2F-2Fversionbadg.es-2Fljharb-2Fqs.svg-3C-2Fsup-3E">qs &lt;sup&gt;{rdoc-image:http://versionbadg.es/ljharb/qs.svg}[https://npmjs.org/package/qs]</sup&gt;</a>
    <li><a href="#label-Usage">Usage</a>
    <li><a href="#label-Parsing+Objects">Parsing Objects</a>
    <li><a href="#label-Parsing+Arrays">Parsing Arrays</a>
    <li><a href="#label-Stringifying">Stringifying</a>
    <li><a href="#label-Handling+of+null+values">Handling of <code>null</code> values</a>
    <li><a href="#label-Dealing+with+special+character+sets">Dealing with special character sets</a>
    <li><a href="#label-RFC+3986+and+RFC+1738+space+encoding">RFC 3986 and RFC 1738 space encoding</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../Models/veggies_js.html">veggies.js</a>
  
    <li><a href="../../express-partner-lab/README_md.html">README</a>
  
    <li><a href="../../node_modules/accepts/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/accepts/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/accepts/README_md.html">README</a>
  
    <li><a href="../../node_modules/accepts/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/accepts/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/array-flatten/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/array-flatten/README_md.html">README</a>
  
    <li><a href="../../node_modules/array-flatten/array-flatten_js.html">array-flatten.js</a>
  
    <li><a href="../../node_modules/array-flatten/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/body-parser/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/body-parser/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/body-parser/README_md.html">README</a>
  
    <li><a href="../../node_modules/body-parser/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/body-parser/lib/read_js.html">read.js</a>
  
    <li><a href="../../node_modules/body-parser/lib/types/json_js.html">json.js</a>
  
    <li><a href="../../node_modules/body-parser/lib/types/raw_js.html">raw.js</a>
  
    <li><a href="../../node_modules/body-parser/lib/types/text_js.html">text.js</a>
  
    <li><a href="../../node_modules/body-parser/lib/types/urlencoded_js.html">urlencoded.js</a>
  
    <li><a href="../../node_modules/body-parser/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/bytes/History_md.html">History</a>
  
    <li><a href="../../node_modules/bytes/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/bytes/Readme_md.html">Readme</a>
  
    <li><a href="../../node_modules/bytes/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/bytes/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/content-disposition/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/content-disposition/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/content-disposition/README_md.html">README</a>
  
    <li><a href="../../node_modules/content-disposition/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/content-disposition/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/content-type/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/content-type/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/content-type/README_md.html">README</a>
  
    <li><a href="../../node_modules/content-type/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/content-type/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/cookie-signature/History_md.html">History</a>
  
    <li><a href="../../node_modules/cookie-signature/Readme_md.html">Readme</a>
  
    <li><a href="../../node_modules/cookie-signature/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/cookie-signature/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/cookie/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/cookie/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/cookie/README_md.html">README</a>
  
    <li><a href="../../node_modules/cookie/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/cookie/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/debug/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/debug/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/debug/Makefile.html">Makefile</a>
  
    <li><a href="../../node_modules/debug/README_md.html">README</a>
  
    <li><a href="../../node_modules/debug/component_json.html">component.json</a>
  
    <li><a href="../../node_modules/debug/karma_conf_js.html">karma.conf.js</a>
  
    <li><a href="../../node_modules/debug/node_js.html">node.js</a>
  
    <li><a href="../../node_modules/debug/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/debug/src/browser_js.html">browser.js</a>
  
    <li><a href="../../node_modules/debug/src/debug_js.html">debug.js</a>
  
    <li><a href="../../node_modules/debug/src/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/debug/src/inspector-log_js.html">inspector-log.js</a>
  
    <li><a href="../../node_modules/debug/src/node_js.html">node.js</a>
  
    <li><a href="../../node_modules/depd/History_md.html">History</a>
  
    <li><a href="../../node_modules/depd/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/depd/Readme_md.html">Readme</a>
  
    <li><a href="../../node_modules/depd/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/depd/lib/browser/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/depd/lib/compat/callsite-tostring_js.html">callsite-tostring.js</a>
  
    <li><a href="../../node_modules/depd/lib/compat/event-listener-count_js.html">event-listener-count.js</a>
  
    <li><a href="../../node_modules/depd/lib/compat/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/depd/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/destroy/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/destroy/README_md.html">README</a>
  
    <li><a href="../../node_modules/destroy/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/destroy/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/ee-first/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/ee-first/README_md.html">README</a>
  
    <li><a href="../../node_modules/ee-first/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/ee-first/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/ejs/Jakefile.html">Jakefile</a>
  
    <li><a href="../../node_modules/ejs/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/ejs/README_md.html">README</a>
  
    <li><a href="../../node_modules/ejs/ejs_js.html">ejs.js</a>
  
    <li><a href="../../node_modules/ejs/ejs_min_js.html">ejs.min.js</a>
  
    <li><a href="../../node_modules/ejs/lib/ejs_js.html">ejs.js</a>
  
    <li><a href="../../node_modules/ejs/lib/utils_js.html">utils.js</a>
  
    <li><a href="../../node_modules/ejs/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/encodeurl/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/encodeurl/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/encodeurl/README_md.html">README</a>
  
    <li><a href="../../node_modules/encodeurl/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/encodeurl/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/escape-html/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/escape-html/Readme_md.html">Readme</a>
  
    <li><a href="../../node_modules/escape-html/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/escape-html/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/etag/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/etag/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/etag/README_md.html">README</a>
  
    <li><a href="../../node_modules/etag/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/etag/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/express/History_md.html">History</a>
  
    <li><a href="../../node_modules/express/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/express/Readme_md.html">Readme</a>
  
    <li><a href="../../node_modules/express/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/express/lib/application_js.html">application.js</a>
  
    <li><a href="../../node_modules/express/lib/express_js.html">express.js</a>
  
    <li><a href="../../node_modules/express/lib/middleware/init_js.html">init.js</a>
  
    <li><a href="../../node_modules/express/lib/middleware/query_js.html">query.js</a>
  
    <li><a href="../../node_modules/express/lib/request_js.html">request.js</a>
  
    <li><a href="../../node_modules/express/lib/response_js.html">response.js</a>
  
    <li><a href="../../node_modules/express/lib/router/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/express/lib/router/layer_js.html">layer.js</a>
  
    <li><a href="../../node_modules/express/lib/router/route_js.html">route.js</a>
  
    <li><a href="../../node_modules/express/lib/utils_js.html">utils.js</a>
  
    <li><a href="../../node_modules/express/lib/view_js.html">view.js</a>
  
    <li><a href="../../node_modules/express/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/finalhandler/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/finalhandler/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/finalhandler/README_md.html">README</a>
  
    <li><a href="../../node_modules/finalhandler/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/finalhandler/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/forwarded/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/forwarded/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/forwarded/README_md.html">README</a>
  
    <li><a href="../../node_modules/forwarded/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/forwarded/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/fresh/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/fresh/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/fresh/README_md.html">README</a>
  
    <li><a href="../../node_modules/fresh/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/fresh/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/http-errors/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/http-errors/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/http-errors/README_md.html">README</a>
  
    <li><a href="../../node_modules/http-errors/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/http-errors/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/iconv-lite/Changelog_md.html">Changelog</a>
  
    <li><a href="../../node_modules/iconv-lite/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/iconv-lite/README_md.html">README</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/dbcs-codec_js.html">dbcs-codec.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/dbcs-data_js.html">dbcs-data.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/internal_js.html">internal.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-codec_js.html">sbcs-codec.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-data-generated_js.html">sbcs-data-generated.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-data_js.html">sbcs-data.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/big5-added_json.html">big5-added.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp936_json.html">cp936.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp949_json.html">cp949.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp950_json.html">cp950.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/eucjp_json.html">eucjp.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/gb18030-ranges_json.html">gb18030-ranges.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/gbk-added_json.html">gbk-added.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/shiftjis_json.html">shiftjis.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/utf16_js.html">utf16.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/utf7_js.html">utf7.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/bom-handling_js.html">bom-handling.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/extend-node_js.html">extend-node.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/index_d_ts.html">index.d.ts</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/streams_js.html">streams.js</a>
  
    <li><a href="../../node_modules/iconv-lite/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/inherits/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/inherits/README_md.html">README</a>
  
    <li><a href="../../node_modules/inherits/inherits_js.html">inherits.js</a>
  
    <li><a href="../../node_modules/inherits/inherits_browser_js.html">inherits_browser.js</a>
  
    <li><a href="../../node_modules/inherits/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/ipaddr_js/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/ipaddr_js/README_md.html">README</a>
  
    <li><a href="../../node_modules/ipaddr_js/ipaddr_min_js.html">ipaddr.min.js</a>
  
    <li><a href="../../node_modules/ipaddr_js/lib/ipaddr_js.html">ipaddr.js</a>
  
    <li><a href="../../node_modules/ipaddr_js/lib/ipaddr_js_d_ts.html">ipaddr.js.d.ts</a>
  
    <li><a href="../../node_modules/ipaddr_js/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/media-typer/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/media-typer/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/media-typer/README_md.html">README</a>
  
    <li><a href="../../node_modules/media-typer/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/media-typer/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/merge-descriptors/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/merge-descriptors/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/merge-descriptors/README_md.html">README</a>
  
    <li><a href="../../node_modules/merge-descriptors/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/merge-descriptors/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/method-override/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/method-override/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/method-override/README_md.html">README</a>
  
    <li><a href="../../node_modules/method-override/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/Makefile.html">Makefile</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/README_md.html">README</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/karma_conf_js.html">karma.conf.js</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/node_js.html">node.js</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/src/browser_js.html">browser.js</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/src/debug_js.html">debug.js</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/src/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/method-override/node_modules/debug/src/node_js.html">node.js</a>
  
    <li><a href="../../node_modules/method-override/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/methods/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/methods/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/methods/README_md.html">README</a>
  
    <li><a href="../../node_modules/methods/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/methods/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mime-db/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/mime-db/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mime-db/README_md.html">README</a>
  
    <li><a href="../../node_modules/mime-db/db_json.html">db.json</a>
  
    <li><a href="../../node_modules/mime-db/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/mime-db/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mime-types/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/mime-types/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mime-types/README_md.html">README</a>
  
    <li><a href="../../node_modules/mime-types/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/mime-types/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mime/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/mime/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mime/README_md.html">README</a>
  
    <li><a href="../../node_modules/mime/cli_js.html">cli.js</a>
  
    <li><a href="../../node_modules/mime/mime_js.html">mime.js</a>
  
    <li><a href="../../node_modules/mime/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mime/src/build_js.html">build.js</a>
  
    <li><a href="../../node_modules/mime/src/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/mime/types_json.html">types.json</a>
  
    <li><a href="../../node_modules/ms/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/ms/license_md.html">license</a>
  
    <li><a href="../../node_modules/ms/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/ms/readme_md.html">readme</a>
  
    <li><a href="../../node_modules/negotiator/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/negotiator/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/negotiator/README_md.html">README</a>
  
    <li><a href="../../node_modules/negotiator/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/negotiator/lib/charset_js.html">charset.js</a>
  
    <li><a href="../../node_modules/negotiator/lib/encoding_js.html">encoding.js</a>
  
    <li><a href="../../node_modules/negotiator/lib/language_js.html">language.js</a>
  
    <li><a href="../../node_modules/negotiator/lib/mediaType_js.html">mediaType.js</a>
  
    <li><a href="../../node_modules/negotiator/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/on-finished/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/on-finished/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/on-finished/README_md.html">README</a>
  
    <li><a href="../../node_modules/on-finished/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/on-finished/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/parseurl/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/parseurl/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/parseurl/README_md.html">README</a>
  
    <li><a href="../../node_modules/parseurl/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/parseurl/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/path-to-regexp/History_md.html">History</a>
  
    <li><a href="../../node_modules/path-to-regexp/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/path-to-regexp/Readme_md.html">Readme</a>
  
    <li><a href="../../node_modules/path-to-regexp/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/path-to-regexp/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/proxy-addr/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/proxy-addr/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/proxy-addr/README_md.html">README</a>
  
    <li><a href="../../node_modules/proxy-addr/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/proxy-addr/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/qs/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/qs/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/qs/README_md.html">README</a>
  
    <li><a href="../../node_modules/qs/dist/qs_js.html">qs.js</a>
  
    <li><a href="../../node_modules/qs/lib/formats_js.html">formats.js</a>
  
    <li><a href="../../node_modules/qs/lib/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/qs/lib/parse_js.html">parse.js</a>
  
    <li><a href="../../node_modules/qs/lib/stringify_js.html">stringify.js</a>
  
    <li><a href="../../node_modules/qs/lib/utils_js.html">utils.js</a>
  
    <li><a href="../../node_modules/qs/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/qs/test/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/qs/test/parse_js.html">parse.js</a>
  
    <li><a href="../../node_modules/qs/test/stringify_js.html">stringify.js</a>
  
    <li><a href="../../node_modules/qs/test/utils_js.html">utils.js</a>
  
    <li><a href="../../node_modules/range-parser/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/range-parser/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/range-parser/README_md.html">README</a>
  
    <li><a href="../../node_modules/range-parser/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/range-parser/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/raw-body/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/raw-body/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/raw-body/README_md.html">README</a>
  
    <li><a href="../../node_modules/raw-body/index_d_ts.html">index.d.ts</a>
  
    <li><a href="../../node_modules/raw-body/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/raw-body/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/safe-buffer/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/safe-buffer/README_md.html">README</a>
  
    <li><a href="../../node_modules/safe-buffer/index_d_ts.html">index.d.ts</a>
  
    <li><a href="../../node_modules/safe-buffer/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/safe-buffer/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/safer-buffer/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/safer-buffer/Porting-Buffer_md.html">Porting-Buffer</a>
  
    <li><a href="../../node_modules/safer-buffer/Readme_md.html">Readme</a>
  
    <li><a href="../../node_modules/safer-buffer/dangerous_js.html">dangerous.js</a>
  
    <li><a href="../../node_modules/safer-buffer/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/safer-buffer/safer_js.html">safer.js</a>
  
    <li><a href="../../node_modules/safer-buffer/tests_js.html">tests.js</a>
  
    <li><a href="../../node_modules/send/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/send/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/send/README_md.html">README</a>
  
    <li><a href="../../node_modules/send/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/send/node_modules/ms/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/send/node_modules/ms/license_md.html">license</a>
  
    <li><a href="../../node_modules/send/node_modules/ms/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/send/node_modules/ms/readme_md.html">readme</a>
  
    <li><a href="../../node_modules/send/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/serve-static/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/serve-static/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/serve-static/README_md.html">README</a>
  
    <li><a href="../../node_modules/serve-static/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/serve-static/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/setprototypeof/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/setprototypeof/README_md.html">README</a>
  
    <li><a href="../../node_modules/setprototypeof/index_d_ts.html">index.d.ts</a>
  
    <li><a href="../../node_modules/setprototypeof/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/setprototypeof/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/setprototypeof/test/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/statuses/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/statuses/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/statuses/README_md.html">README</a>
  
    <li><a href="../../node_modules/statuses/codes_json.html">codes.json</a>
  
    <li><a href="../../node_modules/statuses/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/statuses/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/toidentifier/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/toidentifier/README_md.html">README</a>
  
    <li><a href="../../node_modules/toidentifier/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/toidentifier/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/type-is/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/type-is/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/type-is/README_md.html">README</a>
  
    <li><a href="../../node_modules/type-is/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/type-is/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/unpipe/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/unpipe/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/unpipe/README_md.html">README</a>
  
    <li><a href="../../node_modules/unpipe/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/unpipe/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/utils-merge/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/utils-merge/README_md.html">README</a>
  
    <li><a href="../../node_modules/utils-merge/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/utils-merge/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/vary/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../node_modules/vary/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/vary/README_md.html">README</a>
  
    <li><a href="../../node_modules/vary/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/vary/package_json.html">package.json</a>
  
    <li><a href="../../package-lock_json.html">package-lock.json</a>
  
    <li><a href="../../package_json.html">package.json</a>
  
    <li><a href="../../server_js.html">server.js</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page node_modules/qs/README.md">

<h1 id="label-qs+-3Crdoc-image-3Ahttp-3A-2F-2Fversionbadg.es-2Fljharb-2Fqs.svg-3C-2Fsup-3E">qs &lt;sup&gt;{rdoc-image:http://versionbadg.es/ljharb/qs.svg}[https://npmjs.org/package/qs]</sup&gt;<span><a href="#label-qs+-3Crdoc-image-3Ahttp-3A-2F-2Fversionbadg.es-2Fljharb-2Fqs.svg-3C-2Fsup-3E">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="https://travis-ci.org/ljharb/qs"><img
src="https://api.travis-ci.org/ljharb/qs.svg"></a> <a
href="https://david-dm.org/ljharb/qs"><img
src="https://david-dm.org/ljharb/qs.svg"></a> <a
href="https://david-dm.org/ljharb/qs?type=dev"><img
src="https://david-dm.org/ljharb/qs/dev-status.svg"></a> <a
href="LICENSE"><img src="http://img.shields.io/npm/l/qs.svg"></a> <a
href="http://npm-stat.com/charts.html?package=qs"><img
src="http://img.shields.io/npm/dm/qs.svg"></a></p>

<p><a href="https://npmjs.org/package/qs"><img
src="https://nodei.co/npm/qs.png?downloads=true&stars=true"></a></p>

<p>A querystring parsing and stringifying library with some added security.</p>

<p>Lead Maintainer: <a href="https://github.com/ljharb">Jordan Harband</a></p>

<p>The <strong>qs</strong> module was originally created and maintained by <a
href="https://github.com/visionmedia/node-querystring">TJ Holowaychuk</a>.</p>

<h2 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">qs</span> = <span class="ruby-identifier">require</span>(<span class="ruby-string">&#39;qs&#39;</span>);
<span class="ruby-identifier">var</span> <span class="ruby-identifier">assert</span> = <span class="ruby-identifier">require</span>(<span class="ruby-string">&#39;assert&#39;</span>);

<span class="ruby-identifier">var</span> <span class="ruby-identifier">obj</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a=c&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">obj</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;c&#39;</span> });

<span class="ruby-identifier">var</span> <span class="ruby-identifier">str</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>(<span class="ruby-identifier">obj</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">str</span>, <span class="ruby-string">&#39;a=c&#39;</span>);
</pre>

<h3 id="label-Parsing+Objects">Parsing Objects<span><a href="#label-Parsing+Objects">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="#preventEval"></a> <code>javascript qs.parse(string, [options]);
</code></p>

<p><strong>qs</strong> allows you to create nested objects within your query
strings, by surrounding the name of sub-keys with square brackets
<code>[]</code>. For example, the string
<code>&#39;foo[bar]=baz&#39;</code> converts to:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;foo[bar]=baz&#39;</span>), {
    <span class="ruby-identifier">foo</span><span class="ruby-operator">:</span> {
        <span class="ruby-identifier">bar</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;baz&#39;</span>
    }
});
</pre>

<p>When using the <code>plainObjects</code> option the parsed value is
returned as a null object, created via <code>Object.create(null)</code> and
as such you should be aware that prototype methods will not exist on it and
a user may set those names to whatever value they like:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">nullObject</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[hasOwnProperty]=b&#39;</span>, { <span class="ruby-identifier">plainObjects</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">nullObject</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">hasOwnProperty</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span> } });
</pre>

<p>By default parameters that would overwrite properties on the object
prototype are ignored, if you wish to keep the data from those fields
either use <code>plainObjects</code> as mentioned above, or set
<code>allowPrototypes</code> to <code>true</code> which will allow user
input to overwrite those properties. <em>WARNING</em> It is generally a bad
idea to enable this option as it can cause problems when attempting to use
the properties that have been overwritten. Always be careful with this
option.</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">protoObject</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[hasOwnProperty]=b&#39;</span>, { <span class="ruby-identifier">allowPrototypes</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">protoObject</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">hasOwnProperty</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span> } });
</pre>

<p>URI encoded strings work too:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a%5Bb%5D=c&#39;</span>), {
    <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;c&#39;</span> }
});
</pre>

<p>You can also nest your objects, like
<code>&#39;foo[bar][baz]=foobarbaz&#39;</code>:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;foo[bar][baz]=foobarbaz&#39;</span>), {
    <span class="ruby-identifier">foo</span><span class="ruby-operator">:</span> {
        <span class="ruby-identifier">bar</span><span class="ruby-operator">:</span> {
            <span class="ruby-identifier">baz</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;foobarbaz&#39;</span>
        }
    }
});
</pre>

<p>By default, when nesting objects <strong>qs</strong> will only parse up to
5 children deep. This means if you attempt to parse a string like
<code>&#39;a[b][c][d][e][f][g][h][i]=j&#39;</code> your resulting object
will be:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">expected</span> = {
    <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> {
        <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> {
            <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> {
                <span class="ruby-identifier">d</span><span class="ruby-operator">:</span> {
                    <span class="ruby-identifier">e</span><span class="ruby-operator">:</span> {
                        <span class="ruby-identifier">f</span><span class="ruby-operator">:</span> {
                            <span class="ruby-string">&#39;[g][h][i]&#39;</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;j&#39;</span>
                        }
                    }
                }
            }
        }
    }
};
<span class="ruby-identifier">var</span> <span class="ruby-identifier">string</span> = <span class="ruby-string">&#39;a[b][c][d][e][f][g][h][i]=j&#39;</span>;
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">string</span>), <span class="ruby-identifier">expected</span>);
</pre>

<p>This depth can be overridden by passing a <code>depth</code> option to
<code>qs.parse(string, [options])</code>:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">deep</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[b][c][d][e][f][g][h][i]=j&#39;</span>, { <span class="ruby-identifier">depth</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">deep</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> { <span class="ruby-string">&#39;[c][d][e][f][g][h][i]&#39;</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;j&#39;</span> } } });
</pre>

<p>The depth limit helps mitigate abuse when <strong>qs</strong> is used to
parse user input, and it is recommended to keep it a reasonably small
number.</p>

<p>For similar reasons, by default <strong>qs</strong> will only parse up to
1000 parameters. This can be overridden by passing a
<code>parameterLimit</code> option:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">limited</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a=b&amp;c=d&#39;</span>, { <span class="ruby-identifier">parameterLimit</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">limited</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span> });
</pre>

<p>To bypass the leading question mark, use <code>ignoreQueryPrefix</code>:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">prefixed</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;?a=b&amp;c=d&#39;</span>, { <span class="ruby-identifier">ignoreQueryPrefix</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">prefixed</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;d&#39;</span> });
</pre>

<p>An optional delimiter can also be passed:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">delimited</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a=b;c=d&#39;</span>, { <span class="ruby-identifier">delimiter</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;;&#39;</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">delimited</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;d&#39;</span> });
</pre>

<p>Delimiters can be a regular expression too:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">regexed</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a=b;c=d,e=f&#39;</span>, { <span class="ruby-identifier">delimiter</span><span class="ruby-operator">:</span> <span class="ruby-regexp">/[;,]/</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">regexed</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;d&#39;</span>, <span class="ruby-identifier">e</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;f&#39;</span> });
</pre>

<p>Option <code>allowDots</code> can be used to enable dot notation:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">withDots</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a.b=c&#39;</span>, { <span class="ruby-identifier">allowDots</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">withDots</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;c&#39;</span> } });
</pre>

<p>If you have to deal with legacy browsers or services, there&#39;s also
support for decoding percent-encoded octets as iso-8859-1:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">oldCharset</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a=%A7&#39;</span>, { <span class="ruby-identifier">charset</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;iso-8859-1&#39;</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">oldCharset</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;§&#39;</span> });
</pre>

<p>Some services add an initial <code>utf8=✓</code> value to forms so that old
Internet Explorer versions are more likely to submit the form as utf-8.
Additionally, the server can check the value against wrong encodings of the
checkmark character and detect that a query string or
<code>application/x-www-form-urlencoded</code> body was <em>not</em> sent
as utf-8, eg. if the form had an <code>accept-charset</code> parameter or
the containing page had a different character set.</p>

<p><strong>qs</strong> supports this mechanism via the
<code>charsetSentinel</code> option. If specified, the <code>utf8</code>
parameter will be omitted from the returned object. It will be used to
switch to <code>iso-8859-1</code>/<code>utf-8</code> mode depending on how
the checkmark is encoded.</p>

<p><strong>Important</strong>: When you specify both the <code>charset</code>
option and the <code>charsetSentinel</code> option, the
<code>charset</code> will be overridden when the request contains a
<code>utf8</code> parameter from which the actual charset can be deduced.
In that sense the <code>charset</code> will behave as the default charset
rather than the authoritative charset.</p>

<pre>var detectedAsUtf8 = qs.parse(&#39;utf8=%E2%9C%93&amp;a=%C3%B8&#39;, {
    charset: &#39;iso-8859-1&#39;,
    charsetSentinel: true
});
assert.deepEqual(detectedAsUtf8, { a: &#39;ø&#39; });

// Browsers encode the checkmark as &amp;#10003; when submitting as iso-8859-1:
var detectedAsIso8859_1 = qs.parse(&#39;utf8=%26%2310003%3B&amp;a=%F8&#39;, {
    charset: &#39;utf-8&#39;,
    charsetSentinel: true
});
assert.deepEqual(detectedAsIso8859_1, { a: &#39;ø&#39; });</pre>

<p>If you want to decode the <code>&amp;#...;</code> syntax to the actual
character, you can specify the <code>interpretNumericEntities</code> option
as well:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">detectedAsIso8859_1</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a=%26%239786%3B&#39;</span>, {
    <span class="ruby-identifier">charset</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;iso-8859-1&#39;</span>,
    <span class="ruby-identifier">interpretNumericEntities</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>
});
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">detectedAsIso8859_1</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;☺&#39;</span> });
</pre>

<p>It also works when the charset has been detected in
<code>charsetSentinel</code> mode.</p>

<h3 id="label-Parsing+Arrays">Parsing Arrays<span><a href="#label-Parsing+Arrays">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><strong>qs</strong> can also parse arrays using a similar <code>[]</code>
notation:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">withArray</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[]=b&amp;a[]=c&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">withArray</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> [<span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-string">&#39;c&#39;</span>] });
</pre>

<p>You may specify an index as well:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">withIndexes</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[1]=c&amp;a[0]=b&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">withIndexes</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> [<span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-string">&#39;c&#39;</span>] });
</pre>

<p>Note that the only difference between an index in an array and a key in an
object is that the value between the brackets must be a number to create an
array. When creating arrays with specific indices, <strong>qs</strong> will
compact a sparse array to only the existing values preserving their order:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">noSparse</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[1]=b&amp;a[15]=c&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">noSparse</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> [<span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-string">&#39;c&#39;</span>] });
</pre>

<p>Note that an empty string is also a value, and will be preserved:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">withEmptyString</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[]=&amp;a[]=b&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">withEmptyString</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> [<span class="ruby-string">&#39;&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>] });

<span class="ruby-identifier">var</span> <span class="ruby-identifier">withIndexedEmptyString</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[0]=b&amp;a[1]=&amp;a[2]=c&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">withIndexedEmptyString</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> [<span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-string">&#39;&#39;</span>, <span class="ruby-string">&#39;c&#39;</span>] });
</pre>

<p><strong>qs</strong> will also limit specifying indices in an array to a
maximum index of <code>20</code>. Any array members with an index of
greater than <code>20</code> will instead be converted to an object with
the index as the key. This is needed to handle cases when someone sent, for
example, <code>a[999999999]</code> and it will take significant time to
iterate over this huge array.</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">withMaxIndex</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[100]=b&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">withMaxIndex</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-string">&#39;100&#39;</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span> } });
</pre>

<p>This limit can be overridden by passing an <code>arrayLimit</code> option:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">withArrayLimit</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[1]=b&#39;</span>, { <span class="ruby-identifier">arrayLimit</span><span class="ruby-operator">:</span> <span class="ruby-value">0</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">withArrayLimit</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-string">&#39;1&#39;</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span> } });
</pre>

<p>To disable array parsing entirely, set <code>parseArrays</code> to
<code>false</code>.</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">noParsingArrays</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[]=b&#39;</span>, { <span class="ruby-identifier">parseArrays</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">noParsingArrays</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-string">&#39;0&#39;</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span> } });
</pre>

<p>If you mix notations, <strong>qs</strong> will merge the two items into an
object:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">mixedNotation</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[0]=b&amp;a[b]=c&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">mixedNotation</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-string">&#39;0&#39;</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;c&#39;</span> } });
</pre>

<p>You can also create arrays of objects:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">arraysOfObjects</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a[][b]=c&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">arraysOfObjects</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> [{ <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;c&#39;</span> }] });
</pre>

<p>Some people use comma to join array, <strong>qs</strong> can parse it:
<code>javascript var arraysOfObjects = qs.parse(&#39;a=b,c&#39;, { comma:
true }) assert.deepEqual(arraysOfObjects, { a: [&#39;b&#39;, &#39;c&#39;]
}) </code> (<em>this cannot convert nested objects, such as
<code>a={b:1},{c:d}</em></code>)</p>

<h3 id="label-Stringifying">Stringifying<span><a href="#label-Stringifying">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="#preventEval"></a> <code>javascript qs.stringify(object,
[options]); </code></p>

<p>When stringifying, <strong>qs</strong> by default URI encodes output.
Objects are stringified as you would expect:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span> }), <span class="ruby-string">&#39;a=b&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;c&#39;</span> } }), <span class="ruby-string">&#39;a%5Bb%5D=c&#39;</span>);
</pre>

<p>This encoding can be disabled by setting the <code>encode</code> option to
<code>false</code>:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">unencoded</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;c&#39;</span> } }, { <span class="ruby-identifier">encode</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">unencoded</span>, <span class="ruby-string">&#39;a[b]=c&#39;</span>);
</pre>

<p>Encoding can be disabled for keys by setting the
<code>encodeValuesOnly</code> option to <code>true</code>: <code>javascript
var encodedValues = qs.stringify(     { a: &#39;b&#39;, c: [&#39;d&#39;,
&#39;e=f&#39;], f: [[&#39;g&#39;], [&#39;h&#39;]] },     {
encodeValuesOnly: true } );
assert.equal(encodedValues,'a=b&c[0]=d&c[1]=e%3Df&f[0][0]=g&f[1][0]=h&#39;);
</code></p>

<p>This encoding can also be replaced by a custom encoding method set as
<code>encoder</code> option:</p>

<pre>var encoded = qs.stringify({ a: { b: &#39;c&#39; } }, { encoder: function (str) {
    // Passed in values `a`, `b`, `c`
    return // Return encoded string
}})</pre>

<p><em>(Note: the <code>encoder</code> option does not apply if
<code>encode</code> is <code>false</code>)</em></p>

<p>Analogue to the <code>encoder</code> there is a <code>decoder</code> option
for <code>parse</code> to override decoding of properties and values:</p>

<pre>var decoded = qs.parse(&#39;x=z&#39;, { decoder: function (str) {
    // Passed in values `x`, `z`
    return // Return decoded string
}})</pre>

<p>Examples beyond this point will be shown as though the output is not URI
encoded for clarity. Please note that the return values in these cases
<em>will</em> be URI encoded during real usage.</p>

<p>When arrays are stringified, by default they are given explicit indices:</p>

<pre>qs.stringify({ a: [&#39;b&#39;, &#39;c&#39;, &#39;d&#39;] });
// &#39;a[0]=b&amp;a[1]=c&amp;a[2]=d&#39;</pre>

<p>You may override this by setting the <code>indices</code> option to
<code>false</code>:</p>

<pre>qs.stringify({ a: [&#39;b&#39;, &#39;c&#39;, &#39;d&#39;] }, { indices: false });
// &#39;a=b&amp;a=c&amp;a=d&#39;</pre>

<p>You may use the <code>arrayFormat</code> option to specify the format of
the output array:</p>

<pre>qs.stringify({ a: [&#39;b&#39;, &#39;c&#39;] }, { arrayFormat: &#39;indices&#39; })
// &#39;a[0]=b&amp;a[1]=c&#39;
qs.stringify({ a: [&#39;b&#39;, &#39;c&#39;] }, { arrayFormat: &#39;brackets&#39; })
// &#39;a[]=b&amp;a[]=c&#39;
qs.stringify({ a: [&#39;b&#39;, &#39;c&#39;] }, { arrayFormat: &#39;repeat&#39; })
// &#39;a=b&amp;a=c&#39;
qs.stringify({ a: [&#39;b&#39;, &#39;c&#39;] }, { arrayFormat: &#39;comma&#39; })
// &#39;a=b,c&#39;</pre>

<p>When objects are stringified, by default they use bracket notation:</p>

<pre>qs.stringify({ a: { b: { c: &#39;d&#39;, e: &#39;f&#39; } } });
// &#39;a[b][c]=d&amp;a[b][e]=f&#39;</pre>

<p>You may override this to use dot notation by setting the
<code>allowDots</code> option to <code>true</code>:</p>

<pre>qs.stringify({ a: { b: { c: &#39;d&#39;, e: &#39;f&#39; } } }, { allowDots: true });
// &#39;a.b.c=d&amp;a.b.e=f&#39;</pre>

<p>Empty strings and null values will omit the value, but the equals sign (=)
remains in place:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span> }), <span class="ruby-string">&#39;a=&#39;</span>);
</pre>

<p>Key with no values (such as an empty object or array) will return nothing:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> [] }), <span class="ruby-string">&#39;&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> {} }), <span class="ruby-string">&#39;&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> [{}] }), <span class="ruby-string">&#39;&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> []} }), <span class="ruby-string">&#39;&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> { <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> {}} }), <span class="ruby-string">&#39;&#39;</span>);
</pre>

<p>Properties that are set to <code>undefined</code> will be omitted entirely:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-identifier">null</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-identifier">undefined</span> }), <span class="ruby-string">&#39;a=&#39;</span>);
</pre>

<p>The query string may optionally be prepended with a question mark:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;d&#39;</span> }, { <span class="ruby-identifier">addQueryPrefix</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> }), <span class="ruby-string">&#39;?a=b&amp;c=d&#39;</span>);
</pre>

<p>The delimiter may be overridden with stringify as well:</p>

<pre class="ruby"><span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;d&#39;</span> }, { <span class="ruby-identifier">delimiter</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;;&#39;</span> }), <span class="ruby-string">&#39;a=b;c=d&#39;</span>);
</pre>

<p>If you only want to override the serialization of <code>Date</code>
objects, you can provide a <code>serializeDate</code> option:</p>

<pre>var date = new Date(7);
assert.equal(qs.stringify({ a: date }), &#39;a=1970-01-01T00:00:00.007Z&#39;.replace(/:/g, &#39;%3A&#39;));
assert.equal(
    qs.stringify({ a: date }, { serializeDate: function (d) { return d.getTime(); } }),
    &#39;a=7&#39;
);</pre>

<p>You may use the <code>sort</code> option to affect the order of parameter
keys:</p>

<pre>function alphabeticalSort(a, b) {
    return a.localeCompare(b);
}
assert.equal(qs.stringify({ a: &#39;c&#39;, z: &#39;y&#39;, b : &#39;f&#39; }, { sort: alphabeticalSort }), &#39;a=c&amp;b=f&amp;z=y&#39;);</pre>

<p>Finally, you can use the <code>filter</code> option to restrict which keys
will be included in the stringified output. If you pass a function, it will
be called for each key to obtain the replacement value. Otherwise, if you
pass an array, it will be used to select properties and array indices for
stringification:</p>

<pre>function filterFunc(prefix, value) {
    if (prefix == &#39;b&#39;) {
        // Return an `undefined` value to omit a property.
        return;
    }
    if (prefix == &#39;e[f]&#39;) {
        return value.getTime();
    }
    if (prefix == &#39;e[g][0]&#39;) {
        return value * 2;
    }
    return value;
}
qs.stringify({ a: &#39;b&#39;, c: &#39;d&#39;, e: { f: new Date(123), g: [2] } }, { filter: filterFunc });
// &#39;a=b&amp;c=d&amp;e[f]=123&amp;e[g][0]=4&#39;
qs.stringify({ a: &#39;b&#39;, c: &#39;d&#39;, e: &#39;f&#39; }, { filter: [&#39;a&#39;, &#39;e&#39;] });
// &#39;a=b&amp;e=f&#39;
qs.stringify({ a: [&#39;b&#39;, &#39;c&#39;, &#39;d&#39;], e: &#39;f&#39; }, { filter: [&#39;a&#39;, 0, 2] });
// &#39;a[0]=b&amp;a[2]=d&#39;</pre>

<h3 id="label-Handling+of+null+values">Handling of <code>null</code> values<span><a href="#label-Handling+of+null+values">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>By default, <code>null</code> values are treated like empty strings:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">withNull</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-identifier">null</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">withNull</span>, <span class="ruby-string">&#39;a=&amp;b=&#39;</span>);
</pre>

<p>Parsing does not distinguish between parameters with and without equal
signs. Both are converted to empty strings.</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">equalsInsensitive</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a&amp;b=&#39;</span>);
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">equalsInsensitive</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span> });
</pre>

<p>To distinguish between <code>null</code> values and empty strings use the
<code>strictNullHandling</code> flag. In the result string the
<code>null</code> values have no <code>=</code> sign:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">strictNull</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-identifier">null</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span> }, { <span class="ruby-identifier">strictNullHandling</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">strictNull</span>, <span class="ruby-string">&#39;a&amp;b=&#39;</span>);
</pre>

<p>To parse values without <code>=</code> back to <code>null</code> use the
<code>strictNullHandling</code> flag:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">parsedStrictNull</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&#39;a&amp;b=&#39;</span>, { <span class="ruby-identifier">strictNullHandling</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">deepEqual</span>(<span class="ruby-identifier">parsedStrictNull</span>, { <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-identifier">null</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span> });
</pre>

<p>To completely skip rendering keys with <code>null</code> values, use the
<code>skipNulls</code> flag:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">nullsSkipped</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-identifier">c</span><span class="ruby-operator">:</span> <span class="ruby-identifier">null</span>}, { <span class="ruby-identifier">skipNulls</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">nullsSkipped</span>, <span class="ruby-string">&#39;a=b&#39;</span>);
</pre>

<p>If you&#39;re communicating with legacy systems, you can switch to
<code>iso-8859-1</code> using the <code>charset</code> option:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">iso</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">æ</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;æ&#39;</span> }, { <span class="ruby-identifier">charset</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;iso-8859-1&#39;</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">iso</span>, <span class="ruby-string">&#39;%E6=%E6&#39;</span>);
</pre>

<p>Characters that don&#39;t exist in <code>iso-8859-1</code> will be
converted to numeric entities, similar to what browsers do:</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">numeric</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;☺&#39;</span> }, { <span class="ruby-identifier">charset</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;iso-8859-1&#39;</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">numeric</span>, <span class="ruby-string">&#39;a=%26%239786%3B&#39;</span>);
</pre>

<p>You can use the <code>charsetSentinel</code> option to announce the
character by including an <code>utf8=✓</code> parameter with the proper
encoding if the checkmark, similar to what Ruby on Rails and others do when
submitting forms.</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">sentinel</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;☺&#39;</span> }, { <span class="ruby-identifier">charsetSentinel</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">sentinel</span>, <span class="ruby-string">&#39;utf8=%E2%9C%93&amp;a=%E2%98%BA&#39;</span>);

<span class="ruby-identifier">var</span> <span class="ruby-identifier">isoSentinel</span> = <span class="ruby-identifier">qs</span>.<span class="ruby-identifier">stringify</span>({ <span class="ruby-identifier">a</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;æ&#39;</span> }, { <span class="ruby-identifier">charsetSentinel</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">charset</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;iso-8859-1&#39;</span> });
<span class="ruby-identifier">assert</span>.<span class="ruby-identifier">equal</span>(<span class="ruby-identifier">isoSentinel</span>, <span class="ruby-string">&#39;utf8=%26%2310003%3B&amp;a=%E6&#39;</span>);
</pre>

<h3 id="label-Dealing+with+special+character+sets">Dealing with special character sets<span><a href="#label-Dealing+with+special+character+sets">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>By default the encoding and decoding of characters is done in
<code>utf-8</code>, and <code>iso-8859-1</code> support is also built in
via the <code>charset</code> parameter.</p>

<p>If you wish to encode querystrings to a different character set (i.e. <a
href="https://en.wikipedia.org/wiki/Shift_JIS">Shift JIS</a>) you can use
the <a href="https://github.com/martinheidegger/qs-iconv">qs-iconv</a>
library:</p>

<pre>var encoder = require(&#39;qs-iconv/encoder&#39;)(&#39;shift_jis&#39;);
var shiftJISEncoded = qs.stringify({ a: &#39;こんにちは！&#39; }, { encoder: encoder });
assert.equal(shiftJISEncoded, &#39;a=%82%B1%82%F1%82%C9%82%BF%82%CD%81I&#39;);</pre>

<p>This also works for decoding of query strings:</p>

<pre>var decoder = require(&#39;qs-iconv/decoder&#39;)(&#39;shift_jis&#39;);
var obj = qs.parse(&#39;a=%82%B1%82%F1%82%C9%82%BF%82%CD%81I&#39;, { decoder: decoder });
assert.deepEqual(obj, { a: &#39;こんにちは！&#39; });</pre>

<h3 id="label-RFC+3986+and+RFC+1738+space+encoding">RFC 3986 and RFC 1738 space encoding<span><a href="#label-RFC+3986+and+RFC+1738+space+encoding">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>RFC3986 used as default option and encodes &#39; &#39; to <em>%20</em>
which is backward compatible. In the same time, output can be stringified
as per RFC1738 with &#39; &#39; equal to &#39;+&#39;.</p>

<pre>assert.equal(qs.stringify({ a: &#39;b c&#39; }), &#39;a=b%20c&#39;);
assert.equal(qs.stringify({ a: &#39;b c&#39; }, { format : &#39;RFC3986&#39; }), &#39;a=b%20c&#39;);
assert.equal(qs.stringify({ a: &#39;b c&#39; }, { format : &#39;RFC1738&#39; }), &#39;a=b+c&#39;);</pre>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

